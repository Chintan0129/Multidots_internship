(()=>{"use strict";var e,t={590:()=>{const e=window.wp.blocks,t=window.React,n=window.wp.element,l=window.wp.components,a=window.wp.blockEditor,s=window.wp.primitives,c=(0,t.createElement)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(s.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),r=(0,t.createElement)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(s.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),o=JSON.parse('{"UU":"create-block/mdblock","uK":{"selectedCategory":{"type":"string","default":""},"selectedTag":{"type":"string","default":""},"questionsAndAnswers":{"type":"array","default":[]}}}');(0,e.registerBlockType)(o.UU,{edit:({attributes:e,setAttributes:s,clientId:o})=>{const[i,m]=(0,n.useState)([]),[u,d]=(0,n.useState)([]),[h,w]=(0,n.useState)([]),[E,p]=(0,n.useState)([]),[f,b]=(0,n.useState)([]),[k,g]=(0,n.useState)([]),[v,y]=(0,n.useState)(!0),[N,C]=(0,n.useState)(!1),[x,S]=(0,n.useState)([]),[q,A]=(0,n.useState)(null);return(0,n.useEffect)((()=>{fetch("/wordpress-exercise/wp-json/custom-faq/v1/data").then((e=>e.json())).then((e=>{m(e);const t=new Set,n=new Set;e.forEach((e=>{e.category.forEach((e=>t.add(e.name))),e.tags.forEach((e=>n.add(e)))})),d([...t]),p([...n])})).catch((e=>{console.error("Error fetching FAQ data:",e)}))}),[]),(0,t.createElement)("div",{...(0,a.useBlockProps)(),className:"custom-faq-block"},v?(0,t.createElement)("div",{className:"placeholder",onClick:()=>{y(!1)}},(0,t.createElement)("button",{className:"plus-icon-button"},"+"),(0,t.createElement)("p",null,"Click to start using FAQ block")):(0,t.createElement)(t.Fragment,null,N?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h2",null,"Questions & Answers:"),(0,t.createElement)("ul",{className:"faq-list"},x.map((e=>(0,t.createElement)("li",{key:e.id,className:"faq-item"},(0,t.createElement)(l.CheckboxControl,{label:e.question,checked:k.includes(e),onChange:()=>(e=>{const t=k.includes(e)?k.filter((t=>t.id!==e.id)):[...k,e];g(t)})(e),className:"faq-checkbox"}))))),(0,t.createElement)(l.Button,{onClick:()=>{s({questionsAndAnswers:k}),y(!1),C(!1)},isPrimary:!0,className:"done-button"},"Done")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"filters-container"},(0,t.createElement)("div",{className:"filter-section"},(0,t.createElement)("h2",null,"Filter by Category:"),u.map(((e,n)=>(0,t.createElement)(l.CheckboxControl,{key:n,label:e,checked:h.includes(e),onChange:()=>(e=>{const t=h.includes(e)?h.filter((t=>t!==e)):[...h,e];w(t)})(e),className:"filter-checkbox"})))),(0,t.createElement)("div",{className:"filter-section"},(0,t.createElement)("h2",null,"Filter by Tag:"),E.map(((e,n)=>(0,t.createElement)(l.CheckboxControl,{key:n,label:e,checked:f.includes(e),onChange:()=>(e=>{const t=f.includes(e)?f.filter((t=>t!==e)):[...f,e];b(t)})(e),className:"filter-checkbox"}))))),(0,t.createElement)(l.Button,{onClick:()=>{const e=i.filter((e=>(0===h.length||e.category.some((e=>h.includes(e.name))))&&(0===f.length||f.some((t=>e.tags.includes(t))))));S(e),C(!0)},isPrimary:!0,className:"next-button"},"Next")),!v&&e.questionsAndAnswers.length>0&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h2",null,"Selected Questions & Answers:"),(0,t.createElement)("ul",{className:"selected-faq-list"},e.questionsAndAnswers.map((e=>(0,t.createElement)("li",{key:e.id,className:"faq-item"},(0,t.createElement)("div",{className:"question-container"},(0,t.createElement)("h3",{className:"question"},e.question),(0,t.createElement)(l.IconButton,{icon:q===e.id?c:r,onClick:()=>{return t=e.id,void A(q===t?null:t);var t},label:"Toggle Answer",className:"toggle-icon"})),q===e.id&&(0,t.createElement)("p",{className:"answer"},e.answer))))),(0,t.createElement)(l.Button,{onClick:()=>{C(!0)},className:"edit-button"},"Edit")),(0,t.createElement)(l.Button,{onClick:()=>{window.confirm("Are you sure you want to delete this block?")&&wp.data.dispatch("core/editor").removeBlocks([o])},className:"delete-button",isDestructive:!0},"Delete Block")))},save:function(){return(0,t.createElement)("p",{...a.useBlockProps.save()},"chintan!")},attributes:o.uK})}},n={};function l(e){var a=n[e];if(void 0!==a)return a.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,l),s.exports}l.m=t,e=[],l.O=(t,n,a,s)=>{if(!n){var c=1/0;for(m=0;m<e.length;m++){for(var[n,a,s]=e[m],r=!0,o=0;o<n.length;o++)(!1&s||c>=s)&&Object.keys(l.O).every((e=>l.O[e](n[o])))?n.splice(o--,1):(r=!1,s<c&&(c=s));if(r){e.splice(m--,1);var i=a();void 0!==i&&(t=i)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[n,a,s]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var a,s,[c,r,o]=n,i=0;if(c.some((t=>0!==e[t]))){for(a in r)l.o(r,a)&&(l.m[a]=r[a]);if(o)var m=o(l)}for(t&&t(n);i<c.length;i++)s=c[i],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return l.O(m)},n=globalThis.webpackChunkmdblock=globalThis.webpackChunkmdblock||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=l.O(void 0,[350],(()=>l(590)));a=l.O(a)})();